$(document).ready(function(){gebo_floating_header.basic();gebo_floating_header.scrollto();});gebo_floating_header={basic:function(){var $list_a=$('#cities');$list_a.list({headerSelector:'li.list_heading'});$list_a.wrap('<div class="list-outer" />');var $list_a_outer=$('.list-outer');var height=$list_a.height();$list_a_outer.append('<div class="slide-up slide-nav"><i class="glyphicon glyphicon-chevron-up"></i></div><div class="slide-down slide-nav"><i class="glyphicon glyphicon-chevron-down"></i></div>');$('.slide-down').click(function(){$('.ui-list',$list_a).animate({scrollTop:"+="+height/1.35+"px"},500);});$('.slide-up').click(function(){$('.ui-list',$list_a).animate({scrollTop:"-="+height/1.35+"px"},500);});},scrollto:function(){var $list_b=$('#countries');$('<div id="list-buttons"/>').insertBefore($list_b);$list_b.find('dt').each(function(i){var this_dd=$(this),dd_length=$('+ dd',this_dd).nextUntil('dt').length+ 1;$('#list-buttons').append('<button data-header="'+i+'" class="btn btn-xs btn-default bstr_ttip" title="'+dd_length+'">'+$(this).text()+'</button>');});if(!is_touch_device()){$('.bstr_ttip').tooltip();}
$list_b.list();var dd_height=$list_b.find('.ui-list dd').outerHeight(),dt_height=$list_b.find('.ui-list dt').outerHeight(),fake_header=$list_b.find('.-list-fakeheader');$('#list-buttons').on('click','button',function(){$('#list-buttons button').removeClass('btn-success');$(this).addClass('btn-success');var this_index=$(this).data('header'),this_dt=$list_b.find('.ui-list dt').eq(this_index);function updateHeader(){fake_header.html(this_dt.html());};var dd_length=$('+ dd',this_dt).nextUntil('dt').length+ 1;$list_b.animate({height:(dt_height+(dd_length*dd_height)- 2)},100);$list_b.list('scrollTo',this_index,400,function(){setTimeout(updateHeader,0);});});$list_b.find('.ui-list').css('overflow-y','hidden');fake_header.width(fake_header.width()+ 15);$('#list-buttons button:first').trigger('click');}};